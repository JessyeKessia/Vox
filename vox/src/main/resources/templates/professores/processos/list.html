<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  th:replace="~{layout/base :: base(content=~{::section}, title='Processos Designados')}"
>
  <body>
    <section>
      <div th:replace="~{fragments/menu :: message-success}"></div>
      <div th:replace="~{fragments/menu :: message-error}"></div>

      <h2 class="mb-4">Processos Designados a Você</h2>

      <div th:if="${processos.isEmpty()}" class="alert alert-info">
        Nenhum processo foi designado para você até o momento.
      </div>

      <div class="table-responsive">
        <table
          class="table table-striped table-bordered"
          th:if="${!processos.isEmpty()}"
        >
          <thead class="table-dark">
            <tr>
              <th>Assunto</th>
              <th>Status</th>
              <th>Autor</th>
              <th>Data de criação</th>
              <th>Data de atribuição</th>
              <th>Descricao</th>
              <th>Ações</th>
            </tr>
          </thead>

          <tbody>
            <tr th:each="processo : ${processos}">
              <td th:text="${processo.assunto.nome}"></td>

              <td th:text="${processo.status}"></td>

              <td th:text="${processo.alunoInteressado.nome}"></td>

              <td
                th:text="${#temporals.format(processo.dataCriacao, 'dd/MM/yyyy')}"
              ></td>

              <td
                th:text="${#temporals.format(processo.dataDistribuicao, 'dd/MM/yyyy')}"
              ></td>

              <td th:text="${processo.descricao}"></td>

              <td>
                <a
                  th:href="@{'/professores/processos/parecer/' + ${processo.id}}"
                  class="btn btn-sm btn-success"
                  >Parecer</a
                >
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </body>
</html>
